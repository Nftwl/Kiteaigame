<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kite AI: Wind Runner 🪁</title>
<style>
  html,body{
    margin:0;
    padding:0;
    overflow:hidden;
    background:linear-gradient(to bottom,#87CEEB,#F0F8FF);
    font-family:'Poppins',sans-serif;
  }
  canvas{
    display:block;
    margin:0 auto;
    background:linear-gradient(to bottom,#87CEEB 0%,#E0FFFF 100%);
    border:3px solid #FFD700;
    border-radius:12px;
  }
  button{
    padding:10px 16px;
    border:none;
    border-radius:10px;
    background:#FFD700;
    font-weight:bold;
    cursor:pointer;
    margin:4px;
  }
  button:hover{background:#FFC300;}
  #overlay{
    position:fixed;
    top:0;left:0;width:100%;height:100%;
    display:none;
    background:rgba(0,0,0,0.7);
    color:white;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    text-align:center;
    z-index:20;
  }
</style>
</head>
<body>

<canvas id="gameCanvas" width="360" height="480"></canvas>

<div style="text-align:center;margin-top:8px;">
  <button id="startBtn">🎮 Start</button>
  <button id="infoBtn">ℹ️ About KiteAI</button>
  <button id="leaderboardBtn">🏆 Leaderboard</button>
</div>

<div id="overlay">
  <h2 id="overlayText"></h2>
  <button id="restartBtn">🔄 Restart</button>
  <button id="shareBtn">📤 Share</button>
  <p style="margin-top:8px;font-size:13px;">
    CEO / Co-founder: @ChiZhangData<br>
    CTO / Co-founder: @scottshics<br>
    Official: @GoKiteAI<br>
    Made by @Vikash1234Singh<br>
    “Kite AI: Wind Runner” Event
  </p>
</div>

<!-- About KiteAI -->
<div id="infoBox" style="display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:30;align-items:center;justify-content:center;">
  <div style="background:#fff;padding:20px;border-radius:16px;max-width:340px;color:#333;">
    <h2>About KiteAI 🪁</h2>
    <p><b>KiteAI</b> merges deep learning & creative intelligence to build smarter AI tools for creators and developers.</p>
    <p>🚀 <b>Mission:</b> Making AI creation as effortless as flying a kite.</p>
    <p>🔗 Follow: <a href="https://x.com/GoKiteAI" target="_blank">@GoKiteAI</a></p>
    <button onclick="document.getElementById('infoBox').style.display='none'">Close</button>
  </div>
</div>

<!-- Leaderboard -->
<div id="leaderboardBox" style="display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:30;align-items:center;justify-content:center;">
  <div style="background:#fff;padding:20px;border-radius:16px;max-width:340px;text-align:center;color:#333;">
    <h2>🏆 Leaderboard</h2>
    <input id="xHandle" placeholder="@yourhandle" style="padding:8px;width:90%;border:1px solid #ccc;border-radius:8px;"><br><br>
    <button id="saveScoreBtn">Save</button>
    <ul id="leaderList" style="text-align:left;margin-top:10px;max-height:200px;overflow:auto;font-size:14px;"></ul>
    <button onclick="document.getElementById('leaderboardBox').style.display='none'">Close</button>
  </div>
</div>

<script>
const canvas=document.getElementById("gameCanvas"),ctx=canvas.getContext("2d");
const W=canvas.width,H=canvas.height;
let kiteY, kiteVel, obstacles, score, running=false;
const gravity=0.4,jump=-6,gap=130,obsW=50,speed=2.4;

function resetGame(){
  kiteY=H/2;kiteVel=0;score=0;
  obstacles=[];
  for(let i=0;i<3;i++)obstacles.push({x:W+200*i,y:Math.random()*(H-200)+50});
  running=true;
  document.getElementById("overlay").style.display="none";
  loop();
}

function drawKite(){
  ctx.beginPath();
  ctx.moveTo(80,kiteY);
  ctx.lineTo(60,kiteY+20);
  ctx.lineTo(80,kiteY+40);
  ctx.lineTo(100,kiteY+20);
  ctx.closePath();
  ctx.fillStyle="#FF6347";
  ctx.fill();
  ctx.strokeStyle="#222";
  ctx.stroke();
  ctx.beginPath();
  ctx.moveTo(80,kiteY+40);
  ctx.lineTo(80,kiteY+60);
  ctx.stroke();
}

function drawObstacles(){
  ctx.fillStyle="#8B4513";
  obstacles.forEach(o=>{
    ctx.fillRect(o.x,0,obsW,o.y);
    ctx.fillRect(o.x,o.y+gap,obsW,H-o.y-gap);
    ctx.fillStyle="#fff";
    ctx.font="bold 16px Poppins";
    ctx.textAlign="center";
    ctx.fillText("KITEAI",o.x+obsW/2,o.y/2);
    ctx.fillText("SUPPORT",o.x+obsW/2,o.y+gap+40);
  });
}

function loop(){
  if(!running)return;
  ctx.clearRect(0,0,W,H);
  kiteVel+=gravity;
  kiteY+=kiteVel;
  obstacles.forEach(o=>o.x-=speed);
  if(obstacles[0].x+obsW<0){
    obstacles.shift();
    obstacles.push({x:obstacles[obstacles.length-1].x+200,y:Math.random()*(H-200)+50});
    score++;
  }
  drawObstacles();
  drawKite();
  ctx.fillStyle="#000";ctx.font="bold 22px Poppins";ctx.fillText(score,20,30);
  for(const o of obstacles){
    if(80+10>o.x&&80-10<o.x+obsW&&(kiteY<o.y||kiteY+20>o.y+gap))endGame();
  }
  if(kiteY>H||kiteY<0)endGame();
  requestAnimationFrame(loop);
}

function endGame(){
  running=false;
  const overlay=document.getElementById("overlay");
  overlay.style.display="flex";
  document.getElementById("overlayText").innerText=`Game Over! Score: ${score}`;
}

canvas.addEventListener("mousedown",()=>{if(running)kiteVel=jump;});
canvas.addEventListener("touchstart",()=>{if(running)kiteVel=jump;});
document.getElementById("startBtn").onclick=resetGame;
document.getElementById("restartBtn").onclick=resetGame;
document.getElementById("shareBtn").onclick=()=>{
  const t=`I scored ${score} in Kite AI: Wind Runner! 🪁\n@GoKiteAI #KiteAI`;
  window.open(`https://x.com/intent/tweet?text=${encodeURIComponent(t)}`,"_blank");
};

// About + Leaderboard
const infoBtn=document.getElementById("infoBtn");
const leaderboardBtn=document.getElementById("leaderboardBtn");
const saveScoreBtn=document.getElementById("saveScoreBtn");
const leaderList=document.getElementById("leaderList");
let board=JSON.parse(localStorage.getItem("kiteAI_board")||"[]");
infoBtn.onclick=()=>document.getElementById("infoBox").style.display="flex";
leaderboardBtn.onclick=()=>{document.getElementById("leaderboardBox").style.display="flex";renderBoard();};
saveScoreBtn.onclick=()=>{
  const h=document.getElementById("xHandle").value.trim();
  if(!h)return alert("Enter your X handle");
  board.push({h,score});
  board.sort((a,b)=>b.score-a.score);
  localStorage.setItem("kiteAI_board",JSON.stringify(board));
  renderBoard();
};
function renderBoard(){
  leaderList.innerHTML=board.map((e,i)=>`<li>${i+1}. ${e.h} — <b>${e.score}</b></li>`).join("")||"<li>No entries yet</li>";
}
</script>
</body>
</html>
